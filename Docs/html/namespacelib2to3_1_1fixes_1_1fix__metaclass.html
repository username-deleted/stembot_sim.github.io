<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: lib2to3.fixes.fix_metaclass Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>lib2to3</b></li><li class="navelem"><b>fixes</b></li><li class="navelem"><a class="el" href="namespacelib2to3_1_1fixes_1_1fix__metaclass.html">fix_metaclass</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">lib2to3.fixes.fix_metaclass Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlib2to3_1_1fixes_1_1fix__metaclass_1_1_fix_metaclass.html">FixMetaclass</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4c5bd453539896bcbf947df5b5e76c69"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelib2to3_1_1fixes_1_1fix__metaclass.html#a4c5bd453539896bcbf947df5b5e76c69">has_metaclass</a> (parent)</td></tr>
<tr class="separator:a4c5bd453539896bcbf947df5b5e76c69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1e964de79552cef1fa214a18c3a8b5c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelib2to3_1_1fixes_1_1fix__metaclass.html#ac1e964de79552cef1fa214a18c3a8b5c">fixup_parse_tree</a> (cls_node)</td></tr>
<tr class="separator:ac1e964de79552cef1fa214a18c3a8b5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03c053a0789e7f955d2ae840b11a885c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelib2to3_1_1fixes_1_1fix__metaclass.html#a03c053a0789e7f955d2ae840b11a885c">fixup_simple_stmt</a> (parent, i, stmt_node)</td></tr>
<tr class="separator:a03c053a0789e7f955d2ae840b11a885c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a417a4779d1250aec86414b7f5fba980f"><td class="memItemLeft" align="right" valign="top"><a id="a417a4779d1250aec86414b7f5fba980f"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>remove_trailing_newline</b> (node)</td></tr>
<tr class="separator:a417a4779d1250aec86414b7f5fba980f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17f404b1f9a3824a1a784be5d64c0606"><td class="memItemLeft" align="right" valign="top"><a id="a17f404b1f9a3824a1a784be5d64c0606"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>find_metas</b> (cls_node)</td></tr>
<tr class="separator:a17f404b1f9a3824a1a784be5d64c0606"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b89903280fc29ecba372e8a94c866fa"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelib2to3_1_1fixes_1_1fix__metaclass.html#a4b89903280fc29ecba372e8a94c866fa">fixup_indent</a> (suite)</td></tr>
<tr class="separator:a4b89903280fc29ecba372e8a94c866fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Fixer for __metaclass__ = X -&gt; (metaclass=X) methods.

   The various forms of classef (inherits nothing, inherits once, inherints
   many) don't parse the same in the CST so we look at ALL classes for
   a __metaclass__ and if we find one normalize the inherits to all be
   an arglist.

   For one-liner classes ('class X: pass') there is no indent/dedent so
   we normalize those into having a suite.

   Moving the __metaclass__ into the classdef can also cause the class
   body to be empty so there is some special casing for that as well.

   This fixer also tries very hard to keep original indenting and spacing
   in all those corner cases.</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="a4b89903280fc29ecba372e8a94c866fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b89903280fc29ecba372e8a94c866fa">&#9670;&nbsp;</a></span>fixup_indent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def lib2to3.fixes.fix_metaclass.fixup_indent </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>suite</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment"> If an INDENT is followed by a thing with a prefix then nuke the prefix
    Otherwise we get in trouble when removing __metaclass__ at suite start
</pre> 
</div>
</div>
<a id="ac1e964de79552cef1fa214a18c3a8b5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1e964de79552cef1fa214a18c3a8b5c">&#9670;&nbsp;</a></span>fixup_parse_tree()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def lib2to3.fixes.fix_metaclass.fixup_parse_tree </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cls_node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment"> one-line classes don't get a suite in the parse tree so we add
    one to normalize the tree
</pre> 
</div>
</div>
<a id="a03c053a0789e7f955d2ae840b11a885c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03c053a0789e7f955d2ae840b11a885c">&#9670;&nbsp;</a></span>fixup_simple_stmt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def lib2to3.fixes.fix_metaclass.fixup_simple_stmt </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>stmt_node</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment"> if there is a semi-colon all the parts count as part of the same
    simple_stmt.  We just want the __metaclass__ part so we move
    everything after the semi-colon into its own simple_stmt node
</pre> 
</div>
</div>
<a id="a4c5bd453539896bcbf947df5b5e76c69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c5bd453539896bcbf947df5b5e76c69">&#9670;&nbsp;</a></span>has_metaclass()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def lib2to3.fixes.fix_metaclass.has_metaclass </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>parent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment"> we have to check the cls_node without changing it.
    There are two possibilities:
      1)  clsdef =&gt; suite =&gt; simple_stmt =&gt; expr_stmt =&gt; Leaf('__meta')
      2)  clsdef =&gt; simple_stmt =&gt; expr_stmt =&gt; Leaf('__meta')
</pre> 
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
